########################################################################

# TITLE: How Terrorism Does (and Does Not) Affect Citizens' Political Attitudes: A Meta-Analysis
# AUTHOR: Am√©lie Godefroidt
# AFFILIATION: Norwegian University of Science and Technology
# CONTACT: amelie.godefroidt@ntnu.no

# INFO: This ReadMe file contains information to replicate all results reported in the main manuscript, Supplementary Information, and the Shiny App.
# LAST MODIFIED: November 1, 2021

########################################################################

### LIST OF FILES:

- [folder] documentation
-       README.txt (this file): This lists all files and compute environment dependencies necessary to verify the results from the manuscript.
-	metaanalysis-codebook.pdf: The codebook for 02-metaanalysis-data.xlsx (i.e., the main data file used to generate results).

- [folder] code (contains all R.code files):
- 	01-effect-sizes.R: This script calculates the effect sizes, which are already merged with the main data in the 02-metaanalysis-data.xlsx file.
- 	02-meta-analysis.R: This script runs the main meta-analysis and meta-regressions reported in the paper and Supplementary Information (Section C.1).
- 	03-robustness-checks.R: This script runs the robustness checks reported in the Supplementary Information (Sections B.2.3., C.2, and C.3).
-	04-shiny-data.R: This script cleans and subsets the full dataset to obtain the data file used to build the shiny app.

- [folder] data (contains all data files necessary for replication; generated, in part, by 01-effect-sizes.R):
-	00-effect-sizes.csv: All 1,733 effect sizes generated by 01-effect-sizes.R and merged with other data in 02-metaanalysis-data.xlsx.
- 	01-sampling-information.xlsx: Additional information on the Data Collection process.
- 	02-metaanalysis-data.xlsx: The main data file.
-	anes_timeseries_2016.dta: The 2016 original ANES for effect size interpretation in the manuscript.


### COMPUTE ENVIRONMENT:

- Version control information:
- 	platform       x86_64-w64-mingw32          
- 	arch           x86_64                      
- 	os             mingw32                     
- 	system         x86_64, mingw32             
- 	status                                     
- 	major          4                           
- 	minor          0.5                         
- 	year           2021                        
- 	month          03                          
- 	day            31                          
- 	svn rev        80133                       
- 	language       R                           
- 	version.string R version 4.0.5 (2021-03-31)
- 	nickname       Shake and Throw 

- Packages used in the analysis:
- 	1_To calculate effect sizes: c("esc", "compute.es", "metaSEM", "data.table", "pastecs", "ltm", "pwr", "psych", "tidyr", "haven", "dplyr", "Hmisc", "srvyr", "readxl") 
- 	2_To conduct the meta-analysis: packages <- c("readxl", "haven", "psych", "dplyr", "DescTools", "broom", "cowplot", "pwr", "esc", "metaSEM", "metafor", "metaviz", "PerformanceAnalytics", "ggplot2", "ggpubr", "wesanderson", "stringr", "dotwhisker") 
- 	3_To conduct the robustness checks: c("readxl", "psych", "dplyr", "metaSEM", "metafor", "metaviz", "PerformanceAnalytics", "weightr", "ggplot2", "ggpubr", "wesanderson", "stringr", "gridExtra", "grid")
- 	4_To build the Shiny app: c("shiny", "shinyWidgets", "shinydashboard", "tidyverse", "readr")


### PROCESS OF THE PREPLICATION:

Note: To replicate the results of the paper and SI, you don't need to run the "01-effect-sizes.R" script to replicate the results because the effect sizes are already included in the main data file ("02-metaanalysis-data.xlsx"). You also do not need to run the "04-shiny-data.R" script to replicate the results in the paper and SI.

- For the paper and supplementary information (SI):
	(1) Set your working directory (if necessary). 
	(2) Run 02-meta-analysis.R (to replicate all results reported in main manuscript and SI C.1)
	(3) Run 03-robustness-checks.R (to replication all results reported in SI B.2.3., C.2, and C.3)

- For the Shiny App: Go to https://github.com/mblukac/terrorism-public-attitudes-metaanalysis/ for the Rproject files.


### LAST SUCCESSFUL REPLICATION: 01.11.2021
                      
